<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/regiter.css">
    <link rel="stylesheet" href="css/common.css">
    
</head>
<body>
    <div id="head">
        <div class="logo">

        </div>
        <ul>
            <a href="#">
                <li>会员活动</li>
            </a>
            <a href="#">
                <li>手表</li>
            </a>
            <a href="#">
                <li>配饰</li>
            </a>
            <a href="#">
                <li>礼品套装</li>
            </a>
            <a href="#">
                <li>表带</li>
            </a>
        </ul>
        
    </div>
    <!-- 第一个图 -->
    <a href="http://127.0.0.1/DW1/index.html"><h3 id="banner-tittle"> DANIEL WELLNGTON </h3></a> 
    <div id="banner">
        <div class="banner-center">

        </div>
        <div class="header">
            <ul>
                <a href="#">
                    <li>会员活动</li>
                </a>
                <a href="#">
                    <li>手表</li>
                </a>
                <a href="#">
                    <li>配饰</li>
                </a>
                <a href="#">
                    <li>礼品套装</li>
                </a>
                <a href="#">
                    <li>表带</li>
                </a>
            </ul>
        </div>
        <div class="banner-con">
            <div class="banner-box">
                <div class="banner-topbox">
                    <h3>独家礼遇 会员尊享</h3>
                    <h1>悦享爱意，报以时光</h1>
                    <h5>SHARE LOVE RETURN IN TIME </h5>
                </div>
            </div>
        </div>
    </div>
    <!-- biaodan -->
    <div id="login-wrapper">
        <div class="box-form">
            <div class="form-item">
                <label for="username">姓名</label>
                <input type="text" id="username" placeholder="请输入姓名" maxlength="20" />
                <div class="error-tip error-name">请输入正确名称</div>
            </div>
            <div class="form-item">
                <label for="username">密码</label>
                <input type="password" id="password" placeholder="请输入密码">
            </div>
            <div class="form-item">
                <label for="tel">电话</label>
                <input type="number" id="tel" placeholder="请输入电话号码">
                <div class="error-tip error-tel">请输入您的手机号码</div>
            </div>
            <div class="form-item">
                <label for="val-sex">称谓</label>
                <select id="sex">
                    <option value="1">先生</option>
                    <option value="0">女士</option>
                </select>
            </div>
            <button id="btn">立即加入</button>
                
        </div>
        
    </div>
    <!-- 共有尾部 -->
    <div class="dw-footer">
        <div class="dw-footer-menu">
            <ul>
                <li><a href="#">使用条款</a></li>
                <li><a href="#">隐私保护政策</a></li>
                <li><a href="#">防伪声明</a></li>
                <li><a href="#">网站地图</a></li>
            </ul>
        </div>
        <div class="dw-footer-info">
            <div class="copyright-list">
                <span><img src="https://timeclub.danielwellington.cn/assets/img/icons/check.png" /></span>
                <a href="#">粤公网安备 <i class="DW-font-book">44030502000796</i> 号</a> | <a 
                    href="#">粤<i class="DW-font-book">ICP</i>备<i
                        class="DW-font-book">15098750</i>号</a> | <a target="_blank"
                    href="#">营业执照</a>
            </div>
            <p><i class="DW-font-book">ALL RIGHTS RESERVED. COPYRIGHT</i><em> © 丹尼尔惠灵顿贸易（深圳）有限公司</em></p>
        </div>
    </div>
    
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
    <script src="js/common.js"></script>
    <script>
        // 判断姓名
       
        $("#btn").click(function () {
             if($("#username").val()&&$("#password").val()&&$("#tel").val()){
            let http = new XMLHttpRequest()
                        var options=$("#sex option:selected"); 
                        http.open("get",
                            `http://127.0.0.1:8080/addUser?username=${$("#username").val()}&password=${$("#password").val()}&tel=${$("#tel").val()}&sex=${options.val()}`
                        )
                        http.send()
                        http.onreadystatechange = function () {
                            if (http.readyState === 4) {
                                if (http.responseText === "success") {
                                    alert("注册成功，请返回登录界面")
                                    location.href = "http://127.0.0.1/DW1/login.html";
                                } else {
                                    alert("注册失败")
                                }
                            }

                        }
        }
        else{
            alert("请输入信息")
        }           
        })
    
    $("#username").blur(function(){
        if(!/^[\u4e00-\u9fa5]{2,10}$/.test($(this).val())){
            $(".error-name").fadeIn()
        }
        else{
            $(".error-name").fadeOut()
        }
        // if($(this).val() === ""){
        //     $(".error-name").html("请输入值")
        // }
    })
    
    $("#tel").blur(function(){
        if(!/^1[538]\d{9}$/.test($(this).val())){
            $(".error-tel").fadeIn()
        }
        else{
            $(".error-tel").fadeOut()
        }
       
    })
        
        
    </script>
</body>
</html>